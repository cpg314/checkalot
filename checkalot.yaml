checks:
  - type: git-is-clean
  - type: git-is-rebased

  - type: command
    name: group-imports
    command: cargo group-imports
    folder: rust
    fix_command: cargo group-imports --fix

  - type: command
    name: machete
    command: cargo-machete
    folder: rust
    fix_command: cargo-machete --fix

  - type: command
    name: hakari
    command: cargo hakari generate --diff
    folder: rust
    fix_command: cargo hakari generate

  - type: command
    name: hakari-deps
    command: cargo hakari manage-deps --dry-run
    folder: rust
    fix_command: cargo hakari manage-deps

  - type: command
    name: deny
    command: cargo deny --offline check licenses bans sources --hide-inclusion-graph
    folder: rust

  - type: command
    name: fmt
    command: cargo fmt --all -- --check
    folder: rust
    fix_command: cargo fmt --all

  - type: command
    name: clippy
    command: cargo clippy --release --workspace --no-deps --benches --tests --all-features -- -D warnings
    folder: rust
    fix_command: cargo clippy --release --workspace --no-deps --benches --tests --all-features --fix -- -D warnings

  - type: command
    name: prettier
    command: prettier --check docs
    fix_command: prettier docs
